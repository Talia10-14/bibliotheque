<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord - Bibliothécaire</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="tbbiblio.css">
</head>

<body>
    <header>
        <div class="logo">
            <i class="fas fa-book-open"></i>
            <span>Bibliotech</span>
        </div>
        <span>Tableau de bord - Bibliothécaire</span>
    </header>
    <div class="dashboard-layout">
        <aside class="sidebar">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link " aria-current="page" href="accueil.html">Accueil</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="tbbiblio.html">Tableau de bord</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#statistiques">Statistiques</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#gestion-utilisateurs">Gestion des utilisateurs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#actions">Actions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="livre.html">Livre</a>
                </li>
                <li class="nav-item">
                    <button onclick="location.href='ajouter-livre.html'">Ajouter un nouveau livre</button>

                </li>
                <li class="nav-item">
                    <a class="nav-link" id="logoutBtn" href="#">Déconnexion</a>
                </li>
            </ul>
        </aside>

        <main class="main-content">
            <section id="statistiques">
                <h2>Statistiques Générales</h2>
                <div class="chart-container">
                    <canvas id="myPieChart" width="800" height="800"></canvas>
                </div>
            </section>

            <section id="gestion-utilisateurs">
                <h2>Gestion des Utilisateurs</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Nom</th>
                            <th>Email</th>
                            <th>Statut d'adhésion</th>
                        </tr>
                    </thead>
                    <tbody id="liste-membres">
                    </tbody>
                </table>
            </section>

            <section id="actions">
                <h2>Actions</h2>
                <button onclick="location.href='gerer-retours.html'">Gérer les retours</button>
                <button onclick="location.href='gerer-reservations.html'">Gérer les réservations</button>
            </section>
        </main>
    </div>

    <footer class="footer">
        <div class="footer-logo">
            <i class="fas fa-book-open"></i>
            <span>Bibliotech</span>
        </div>
        <p>© 2025 BiblioTech. Tous droits réservés.</p>
        <p><a href="#conditions">Conditions d'utilisation</a> | <a href="#confidentialite">Politique de
                confidentialité</a></p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="tb.js"></script>
    <script>
        // Exemple de données dynamiques
        const statsData = {
            livresCirculation: 0,
            empruntsJour: 0,
            empruntsSemaine: 0,
            livresRetard: 0,
            nouveauxInscrits: 0
        };

        const membresData = [
            { nom: "Jean Dupont", email: "jean.dupont@example.com", statut: "Actif" },
            { nom: "Marie Curie", email: "marie.curie@example.com", statut: "Suspendu" },
            { nom: "Albert Einstein", email: "albert.einstein@example.com", statut: "Actif" }
        ];

        // Injecter les statistiques
        document.getElementById("livres-circulation").textContent = statsData.livresCirculation;
        document.getElementById("emprunts-jour").textContent = statsData.empruntsJour;
        document.getElementById("emprunts-semaine").textContent = statsData.empruntsSemaine;
        document.getElementById("livres-retard").textContent = statsData.livresRetard;
        document.getElementById("nouveaux-inscrits").textContent = statsData.nouveauxInscrits;

        // Injecter la liste des membres
        const listeMembres = document.getElementById("liste-membres");
        membresData.forEach(membre => {
            const row = document.createElement("tr");
            row.innerHTML = `
                <td>${membre.nom}</td>
                <td>${membre.email}</td>
                <td>${membre.statut}</td>
            `;
            listeMembres.appendChild(row);
        });

        document.getElementById('logoutBtn').addEventListener('click', () => {
            // Supprimer le token du localStorage
            localStorage.removeItem('token');

            // Rediriger vers la page de connexion
            window.location.href = 'connexion.html';
        });

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
</body>

</html>