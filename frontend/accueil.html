<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-book-open"></i>
            <span>Bibliotech</span>
        </div>
        <nav>
            <ul>
                <li><a href="accueil.html">Accueil</a></li>
                <li><a href="#a-propos">À propos</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><a href="formulaire.html" class="inscription">Inscription</a></li>
                <button id="logoutBtn">Déconnexion</button>
                <a id="adminBtn" href="tbadmin.html" style="display: none;">Tableau Admin</a>
                <a id="biblioBtn" href="tbbiblio.html" style="display: none;">Tableau Biblio</a>
                <a id="userBtn" href="tbperso.html" style="display: none;">Tableau Perso</a>

            </ul>
        </nav>
    </header>
    <section class="section search">
        <div class="text-box">
            <h2>Bienvenue à Bibliotech</h2>
            <p>Découvrez un monde de connaissances et d'aventures à travers notre vaste collection de livres et de ressources numériques.</p>
            <div class="search-box">
                <input id="search-input" type="text" placeholder="Rechercher un livre, un auteur ou un sujet...">
                <button id="search-button" type="button"><i class="fas fa-search"></i></button>
            </div>
        </div>
    </section>
    

    <section class="categories">
        <h2>Un catalogue complet</h2>
        <div class="filters">
            <button id="all-categories-button">Toutes les catégories</button>
        </div>
        <div class="category-selects">
            <div class="category-group">
                <select id="sciences">
                    <option value="">Science</option>
                    <option value="mathematiques">Mathématiques</option>
                    <option value="physique">Physique</option>
                    <option value="chimie">Chimie</option>
                    <option value="biologie">Biologie</option>
                    <option value="astronomie">Astronomie</option>
                    <option value="ecologie">Écologie</option>
                </select>
            </div>
            <div class="category-group">
                <select id="technologie">
                    <option value="" disabled selected>Technologie</option>
                    <option value="informatique">Informatique</option>
                    <option value="robotique">Robotique</option>
                    <option value="intelligence-artificielle">Intelligence Artificielle</option>
                    <option value="cybersecurite">Cybersécurité</option>
                    <option value="big-data">Big Data</option>
                    <option value="blockchain">Blockchain</option>
                </select>
            </div>
            <div class="category-group">
                <select id="arts">
                    <option value="" disabled selected>Arts</option>
                    <option value="musique">Musique</option>
                    <option value="cinema">Cinéma</option>
                    <option value="theatre">Théâtre</option>
                    <option value="photographie">Photographie</option>
                    <option value="danse">Danse</option>
                    <option value="architecture">Architecture</option>
                </select>
            </div>
            <div class="category-group">
                <select id="autres">
                    <option value="" disabled selected>Autres</option>
                    <option value="marketing">Marketing</option>
                    <option value="finance">Finance</option>
                    <option value="comptabilite">Comptabilité</option>
                    <option value="entrepreneuriat">Entrepreneuriat</option>
                    <option value="gestion-de-projet">Gestion de Projet</option>
                    <option value="ressources-humaines">Ressources Humaines</option>
                </select>
            </div>
        </div>
        <h3>Livres Numériques</h3>
        <div class="books-container">
            <div class="books" id="livres-books">
                              
            </div>    
         </div>  
         <button id="voir-plus-numeriques">Voir plus</button>
         <button id="voir-moins-numeriques" class="voir-moins hidden">Voir moins</button>

         <h3>Livres Physiques</h3>
         <div class="books-container">
            <div class="books" id="livres-physiques">
              
            </div>
        </div>
        <button id="voir-plus-physiques">Voir plus</button>
        <button id="voir-moins-physiques" class="voir-moins hidden">Voir moins</button>

    </section>

    <section id="a-propos" class="about">
        <h2>À propos de Bibliotech</h2>
        <p>Bibliotech est une plateforme dédiée à la promotion de la lecture et à l'accès à un large éventail de ressources littéraires et numériques. Nous croyons que la lecture est une porte ouverte sur le monde et un outil puissant pour l'apprentissage et le développement personnel.</p>
        <p>Notre mission est de rendre la lecture accessible à tous, en proposant une collection diversifiée de livres, d'articles et de ressources éducatives.</p>
    </section>

    <!-- Section Services -->
    <section id="services" class="services">
        <h2>Nos Services</h2>
        <div class="services-container">
            <div class="service">
                <i class="fas fa-book"></i>
                <h3>Emprunt de Livres</h3>
                <p>Accédez à une vaste collection de livres physiques et numériques à emprunter.</p>
            </div>
            <div class="service">
                <i class="fas fa-laptop"></i>
                <h3>Ressources Numériques</h3>
                <p>Explorez des articles, des revues et des livres électroniques pour enrichir vos connaissances.</p>
            </div>
            <div class="service">
                <i class="fas fa-users"></i>
                <h3>Événements et Ateliers</h3>
                <p>Participez à des événements littéraires, des ateliers d'écriture et des clubs de lecture.</p>
            </div>
            <div class="service">
                <i class="fas fa-headset"></i>
                <h3>Support Personnalisé</h3>
                <p>Profitez d'une assistance dédiée pour répondre à toutes vos questions et besoins.</p>
            </div>
        </div>
    </section>


    <section id="contact" class="contact">
        <div class="contact-box">
            <h2>Contactez-nous</h2>
            <p class="contact-description">Nous sommes là pour répondre à vos questions et vous aider dans votre parcours de lecture.</p>
            <div class="contact-content">
                <div class="contact-info">
                    <p><i class="fas fa-map-marker-alt"></i> 123 Rue des Livres, 75000 Paris</p>
                    <p><i class="fas fa-phone-alt"></i>  01 23 45 67 89</p>
                    <p><i class="fas fa-envelope"></i> contact@bibliotech.fr</p>
                    <p><i class="fas fa-clock"></i>  Lundi-Vendredi 9h-19h, Samedi 10h-18h</p>
                </div>
                <form class="contact-form">
                    <h3>Envoyez-nous un Message</h3>
                    <input type="text" name="name" placeholder="Nom" required>
                    <input type="email" name="email" placeholder="Email" required>
                    <textarea name="message" placeholder="Message" rows="5" required></textarea>
                    <button type="submit">Envoyer</button>
                </form>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-logo">
            <i class="fas fa-book-open"></i>
            <span>Bibliotech</span>
        </div>
        <p>© 2023 BiblioTech. Tous droits réservés.</p>
        <p><a href="#conditions">Conditions d'utilisation</a> | <a href="#confidentialite">Politique de confidentialité</a></p>
    </footer>
    <script src="script.js"></script>
   <script>
    window.addEventListener('DOMContentLoaded', () => {
  const role = localStorage.getItem('role');

  if (role === 'admin') {
    document.getElementById('adminBtn').style.display = 'inline';
  } else if (role === 'biblio') {
    document.getElementById('biblioBtn').style.display = 'inline';
  } else if (role === 'client') {
    document.getElementById('userBtn').style.display = 'inline';
  }
});

    // Filtrer les livres en fonction de la recherche
    document.getElementById('search-input').addEventListener('input', function () {
        const query = this.value.toLowerCase();
        const books = document.querySelectorAll('.book');

        books.forEach(book => {
            const title = book.getAttribute('data-title').toLowerCase();
            if (title.includes(query)) {
                book.style.display = 'block';
            } else {
                book.style.display = 'none';
            }
        });
    });

    // Filtrer les livres en fonction de la catégorie
    document.querySelectorAll('.category-group select').forEach(select => {
        select.addEventListener('change', function () {
            const selectedCategory = this.value;
            const books = document.querySelectorAll('.book');

            books.forEach(book => {
                const category = book.getAttribute('data-category');
                if (selectedCategory === '' || category === selectedCategory) {
                    book.style.display = 'block';
                } else {
                    book.style.display = 'none';
                }
            });
        });
    });
    async function chargerLivres() {
    try {
      const response = await fetch('http://localhost:5000/api/livres');
      const livres = await response.json();

      const conteneur = document.getElementById('livres-physiques'); 
      conteneur.innerHTML = ''; 

      livres.forEach(livre => {
        const div = document.createElement('div');
        div.classList.add('book');
        div.setAttribute('data-category', livre.categorie);
        div.setAttribute('data-title', livre.titre);

        div.innerHTML = `
          <img src="${livre.image || '/image/default.jpg'}" alt="${livre.titre}">
          <h4>${livre.titre}</h4>
          <p>${livre.auteur}</p>
          <div class="book-actions">
            <button class="btn reserver">Réserver</button>
            <button class="btn emprunter">Emprunter</button>
          </div>
        `;

        conteneur.appendChild(div);
      });
    } catch (error) {
      console.error('Erreur chargement livres :', error);
      document.getElementById('livres-physiques').innerText = 'Impossible de charger les livres';
    }
  }

  window.addEventListener('DOMContentLoaded', () => {
    // Charger les livres et gérer les boutons selon le rôle
    chargerLivres();

    const role = localStorage.getItem('role');
    if (role === 'admin') {
      document.getElementById('adminBtn').style.display = 'inline';
    } else if (role === 'biblio') {
      document.getElementById('biblioBtn').style.display = 'inline';
    } else if (role === 'client') {
      document.getElementById('userBtn').style.display = 'inline';
    }
  });
</script>
</body>
</html>